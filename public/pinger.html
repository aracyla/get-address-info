<html>

<head>
    <title>Ping4U</title>
    <link rel="stylesheet" type="text/css" href="pinger.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>

<body>

<div class="container">
    <header>
        <nav class="app_navigation">
            <div class="app_logo">
                <a href="#">Ping<span class="logo_em">4</span>U</a>
            </div>
        </nav>
    </header>
    <div class="content_area">
        <div class="app_area">
            <div>
                <form class="ping_form" id="form_pinger" method="post">
                    <label for="ip" class="hidden_label">Ip:</label>
                    <input type="text" name="ip" id="ip" placeholder='xxx.xxx.xxx.xxx' /> <!-- http://igorescobar.github.io/jQuery-Mask-Plugin/ -->
                    <br />
                    <br />
                    <span>or</span>
                    <br />
                    <br />
                    <label for="hostname" class="hidden_label">Hostname:</label>
                    <input type="text" name="hostname" id="hostname" placeholder='Site address' />
                    <button id="ping_button">PING!</button>
                </form>
            </div>
        </div>
    </div>
</div>



<script>
$('#form_pinger').on('submit', function(event){
    event.preventDefault();
    var address;
    if($('#ip').val() != "")
        address = {ip: $('#ip').val()};
    else
        address = {hostname: $('#hostname').val()};

    $.ajax({
        url: '/pinger',
        method: 'POST',
        contentType: 'application/json',
        data: (address),
        success: function(response){
            console.log(response);
        }
    });
});
//TODO:add load script to end of the page
//TODO:add loading signal to the page
</script>
</body>

</html>
